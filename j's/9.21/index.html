<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>小广告</title>
    </head>
    <style type="text/css">
    .box{
        width: 200px;
        height: 200px;
        background: red;
        position: absolute;
        left: 0;
        top:0;

    }
    </style>
    <body>
    <div class="box"></div>

    <script type="text/javascript">
    let box=document.getElementsByClassName('box')[0];
    // let tops=box.offsetTop
    // console.log(tops)
    let w= parseInt(getComputedStyle(box,null).height);
    let a=window.innerHeight-box.offsetHeight;
    let b=window.innerWidth-box.offsetWidth;
    // let srt=10;
    // let srt1=10;
    // // console.log(a);
    // let t=setInterval(move,50);
    // function move () {
    //     let tops=box.offsetTop+srt;
    //     let lefts=box.offsetLeft+srt1;

    //     if(tops>=a){
    //         tops=a
    //         srt*=-1;
    //     }
    //     if(tops<=0){
    //         tops=0
    //         srt=-srt
    //     }
    //     if(lefts>=b){
    //         lefts=b
    //         srt1*=-1;
    //     }
    //     if(lefts<=0){
    //         lefts=0
    //         srt1=-srt1
    //     }
        
    //     box.style.top=tops+"px"
    //     box.style.left=lefts+"px"
    // }

    // let tt=setInterval(move1,100);
    // function move1 () {
    //     let lefts=box.offsetLeft+srt;
    //     if(lefts>=b){
    //         lefts=b
    //         srt*=-1;
    //     }
    //     if(lefts<=0){
    //         lefts=0
    //         srt=-srt
    //     }
        
    //     box.style.left=lefts+"px"
    // }

    
    function float(obj){
        this.obj=obj;
        this.a=window.innerWidth-box.offsetWidth;
        this.srt1=10;
        this.srt=10;
    }
    float.prototype.stop=function(){
          clearInterval(this.t)
    }
    float.prototype.move=function(){
        let that=this;
        this.t=setInterval(function fn(){
          let lefts=that.obj.offsetLeft+that.srt1;
          let tops=box.offsetTop+that.srt;
          if(tops>=a){
            tops=a
            that.srt*=-1;
        }
        if(tops<=0){
            tops=0
            that.srt=-that.srt
        }
          if(lefts>=b){
            lefts=b
            that.srt1*=-1;
        }
        if(lefts<=0){
            lefts=0
            that.srt1=-that.srt1
        }
          that.obj.style.top=tops+"px"
          that.obj.style.left=lefts+"px"
        },50);
        
    }
   let www= new float(box);
   www.move()
   box.onmouseover=function(){
      www.stop();
   }
   box.onmouseout=function(){
      www.move();
   }
      
     // a=[1,2,3];
     // b=[4,5,6,7];
     // console.log(a.push.apply(a,b));

     


    </script>


    </body>
</html>